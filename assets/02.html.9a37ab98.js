import{r as a,o as p,a as e,b as s,d as o,F as t,c as r,e as l}from"./app.897a2dcd.js";import{_ as c}from"./plugin-vue_export-helper.21dcd24c.js";const k={},u=r(`<h1 id="mysql-\u4E4B-iops\u3001qps\u3001tps" tabindex="-1"><a class="header-anchor" href="#mysql-\u4E4B-iops\u3001qps\u3001tps" aria-hidden="true">#</a> MySQL \u4E4B IOPS\u3001QPS\u3001TPS</h1><h2 id="iops" tabindex="-1"><a class="header-anchor" href="#iops" aria-hidden="true">#</a> IOPS</h2><blockquote><p>IOPS (Input/Output Per Second)\u5373\u6BCF\u79D2\u7684\u8F93\u5165\u8F93\u51FA\u91CF(\u6216\u8BFB\u5199\u6B21\u6570)\uFF0C\u662F\u8861\u91CF\u78C1\u76D8\u6027\u80FD\u7684\u4E3B\u8981\u6307\u6807\u4E4B\u4E00</p></blockquote><h2 id="qps" tabindex="-1"><a class="header-anchor" href="#qps" aria-hidden="true">#</a> QPS</h2><blockquote><p>QPS\uFF08Queries Per Second\uFF09\u5C31\u662F\u6BCF\u79D2\u7684\u67E5\u8BE2\u6570\uFF0C\u5BF9\u6570\u636E\u5E93\u800C\u8A00\u5C31\u662F\u6570\u636E\u5E93\u6BCF\u79D2\u6267\u884C\u7684 SQL \u6570\uFF08\u542B insert\u3001select\u3001update\u3001delete \u7B49\uFF09</p></blockquote><p>\u8BA1\u7B97\u65B9\u5F0F</p><ul><li>Questions = SHOW GLOBAL STATUS LIKE &#39;Questions&#39;;</li><li>Uptime = SHOW GLOBAL STATUS LIKE &#39;Uptime&#39;;</li><li>QPS=Questions/Uptime</li></ul><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>MySQL <span class="token punctuation">[</span>devops<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">global</span> <span class="token keyword">status</span> <span class="token operator">like</span> <span class="token string">&#39;Questions&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+------------+</span>
<span class="token operator">|</span> Variable_name <span class="token operator">|</span> <span class="token keyword">Value</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+------------+</span>
<span class="token operator">|</span> Questions     <span class="token operator">|</span> <span class="token number">5391300412</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

MySQL <span class="token punctuation">[</span>devops<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">global</span> <span class="token keyword">status</span> <span class="token operator">like</span> <span class="token string">&#39;Uptime&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+----------+</span>
<span class="token operator">|</span> Variable_name <span class="token operator">|</span> <span class="token keyword">Value</span>    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+----------+</span>
<span class="token operator">|</span> Uptime        <span class="token operator">|</span> <span class="token number">46230664</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

MySQL <span class="token punctuation">[</span>devops<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token number">5391300412</span><span class="token operator">/</span><span class="token number">46230664</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span> <span class="token number">5391300412</span><span class="token operator">/</span><span class="token number">46230664</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span>            <span class="token number">116.6174</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="tps" tabindex="-1"><a class="header-anchor" href="#tps" aria-hidden="true">#</a> TPS</h2><blockquote><p>\u9002\u7528 innodb Transactions Per Second\uFF08\u6BCF\u79D2\u4F20\u8F93\u7684\u4E8B\u7269\u5904\u7406\u4E2A\u6570\uFF09\uFF0C\u5373\u670D\u52A1\u5668\u6BCF\u79D2\u5904\u7406\u7684\u4E8B\u52A1\u6570</p></blockquote><p>\u8BA1\u7B97\u65B9\u5F0F</p><ul><li>Com_commit = SHOW GLOBAL STATUS LIKE &#39;Com_commit&#39;;</li><li>Com_rollback = SHOW GLOBAL STATUS LIKE &#39;Com_rollback&#39;;</li><li>Uptime = SHOW GLOBAL STATUS LIKE &#39;Uptime&#39;;</li><li>TPS=(Com_commit + Com_rollback)/Uptime</li></ul><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>MySQL <span class="token punctuation">[</span>devops<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">global</span> <span class="token keyword">status</span> <span class="token operator">like</span> <span class="token string">&#39;Com_commit&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+----------+</span>
<span class="token operator">|</span> Variable_name <span class="token operator">|</span> <span class="token keyword">Value</span>    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+----------+</span>
<span class="token operator">|</span> Com_commit    <span class="token operator">|</span> <span class="token number">44406593</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

MySQL <span class="token punctuation">[</span>devops<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">global</span> <span class="token keyword">status</span> <span class="token operator">like</span> <span class="token string">&#39;Com_rollback&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+-------+</span>
<span class="token operator">|</span> Variable_name <span class="token operator">|</span> <span class="token keyword">Value</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+-------+</span>
<span class="token operator">|</span> Com_rollback  <span class="token operator">|</span> <span class="token number">10316</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+-------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

MySQL <span class="token punctuation">[</span>devops<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">global</span> <span class="token keyword">status</span> <span class="token operator">like</span> <span class="token string">&#39;Uptime&#39;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+----------+</span>
<span class="token operator">|</span> Variable_name <span class="token operator">|</span> <span class="token keyword">Value</span>    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+----------+</span>
<span class="token operator">|</span> Uptime        <span class="token operator">|</span> <span class="token number">46230327</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

MySQL <span class="token punctuation">[</span>devops<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token punctuation">(</span><span class="token number">44406593</span><span class="token operator">+</span><span class="token number">10316</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">46230327</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------------------+</span>
<span class="token operator">|</span> <span class="token punctuation">(</span><span class="token number">44406593</span><span class="token operator">+</span><span class="token number">10316</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">46230327</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------------+</span>
<span class="token operator">|</span>                    <span class="token number">0.9608</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div>`,13),i={href:"https://lefred.be/content/mysql-how-many-transactions-where-committed-during-an-interval-of-time/",target:"_blank",rel:"noopener noreferrer"},m=l("\u57FA\u4E8E GTID \u8BA1\u7B97 TPS \u7684\u65B9\u6CD5");function b(d,w){const n=a("ExternalLinkIcon");return p(),e(t,null,[u,s("p",null,[s("a",i,[m,o(n)])])],64)}var S=c(k,[["render",b]]);export{S as default};
