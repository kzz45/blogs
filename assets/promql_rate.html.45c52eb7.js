import{r as o,o as n,a as s,b as e,d as a,F as l,c as i,e as t}from"./app.897a2dcd.js";import{_ as h}from"./plugin-vue_export-helper.21dcd24c.js";var c="/blogs/assets/promql_rate.1a88b405.png",d="/blogs/assets/resultValue.9168df12.png";const _={},u=i('<h1 id="prometheus-rate\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#prometheus-rate\u51FD\u6570" aria-hidden="true">#</a> Prometheus rate\u51FD\u6570</h1><h2 id="\u80CC\u666F" tabindex="-1"><a class="header-anchor" href="#\u80CC\u666F" aria-hidden="true">#</a> \u80CC\u666F</h2><blockquote><p>\u7531\u4E8E\u6211\u4EEC\u76D1\u63A7\u4F53\u7CFB\u662FPrometheus+Grafana\u6765\u505A\u7684\uFF0C\u7814\u53D1\u5728\u914D\u7F6EGrafana\u5927\u76D8\u7684\u65F6\u5019\uFF0C\u95EE\u5230\u4ED6\u7684\u4E00\u4E2A\u4E1A\u52A1\u76D1\u63A7\u6307\u6807\u4F7F\u7528rate\u4E4B\u540E\uFF0CGrafana\u663E\u793ANo Data</p></blockquote><ol><li>Prometheus\u6293\u53D6\u5468\u671F\uFF0C\u6211\u670D\u52A1\u7AEF\u914D\u7F6E\u7684\u6293\u53D6\u5468\u671F\u662F60s\u4E5F\u5C31\u662F1m\u6293\u53D6\u4E00\u6B21\u6307\u6807</li><li>\u7814\u53D1\u4F7F\u7528\u7684rate\u51FD\u6570\uFF0C\u5177\u4F53\u4E3Arate(xxx_xxx{yy=&quot;zz&quot;} [1m])</li></ol><h2 id="\u7C97\u7CD9\u89E3\u91CA" tabindex="-1"><a class="header-anchor" href="#\u7C97\u7CD9\u89E3\u91CA" aria-hidden="true">#</a> \u7C97\u7CD9\u89E3\u91CA</h2><ol><li>\u7531\u4E8E\u6293\u53D6\u5468\u671F\u5B9A\u4E49\u7684\u662F1\u5206\u949F\u6293\u53D6\u4E00\u6B21</li><li>\u7531\u4E8Erate\u51FD\u6570\u7684\u4F7F\u7528\u65B9\u6CD5\u4E3A\uFF1A$interval\u65F6\u95F4\u7A97\u53E3\u4E0B\u81F3\u5C11\u6709\u4E24\u4E2A\u6307\u6807\u624D\u80FD\u8F93\u51FA</li><li>\u6240\u4EE5$interval\u81F3\u5C11\u662F\u5927\u4E8E1\u5206\u949F\u7684</li></ol><h2 id="rate" tabindex="-1"><a class="header-anchor" href="#rate" aria-hidden="true">#</a> rate</h2><blockquote><p>rate\u7684\u7FFB\u8BD1\u5E94\u8BE5\u4E3A\u5E73\u5747\u6BCF\u79D2\u589E\u52A0\u4E86\u591A\u5C11</p></blockquote>',8),m={href:"https://github.com/prometheus/prometheus/blob/main/promql/functions.go#L139",target:"_blank",rel:"noopener noreferrer"},p=t("\u6E90\u7801\u5730\u5740"),f=e("ol",null,[e("li",null,"\u53EF\u4EE5\u770B\u51FA\uFF0Crate\u53EA\u80FD\u5728counter\u7684metrics\u7C7B\u578B\u4E0A\u8FDB\u884C\u8BA1\u7B97"),e("li",null,"\u6837\u672C\u6570\u91CF\u81F3\u5C11\u662F2\u4E2A\uFF0Clen(samples.Points) < 2"),e("li",null,"\u6700\u7EC8\u503C\u4E3A\uFF1A\u7ED3\u679C\u9664\u4EE5\u65F6\u95F4\u7684\u79D2\u6570")],-1),b=e("p",null,"10\u5206\u949F\u5185\u7684\u6837\u672C",-1),x=e("p",null,[e("img",{src:c,alt:""})],-1),g=e("p",null,"rate\u7B97\u6CD5\u662FresultValue = resultValue / ms.Range.Seconds()",-1),k=e("p",null,[e("img",{src:d,alt:""})],-1),q=e("h2",{id:"\u53C2\u8003\u6587\u6863",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u53C2\u8003\u6587\u6863","aria-hidden":"true"},"#"),t(" \u53C2\u8003\u6587\u6863")],-1),V={href:"https://mp.weixin.qq.com/s/7z8n3abX9k39YL5kCopJqQ",target:"_blank",rel:"noopener noreferrer"},v=t("PromQL \u67E5\u8BE2\u4E4B rate \u51FD\u6570\u7684\u4F7F\u7528"),P={href:"https://www.metricfire.com/blog/understanding-the-prometheus-rate-function/",target:"_blank",rel:"noopener noreferrer"},L=t("Understanding the Prometheus rate() function");function N(w,z){const r=o("ExternalLinkIcon");return n(),s(l,null,[u,e("p",null,[e("a",m,[p,a(r)])]),f,b,x,g,k,q,e("p",null,[e("a",V,[v,a(r)]),e("a",P,[L,a(r)])])],64)}var G=h(_,[["render",N]]);export{G as default};
